



# 8.  范数和行列式的计算



范数（英语：norm），是具有“长度”概念的函数。

在线性代数、泛函分析及相关的数学领域，是一个函数，其为向量空间内的所有向量赋予非零的正长度或大小。

其中最常见的范数就是二维度的欧氏几何空间中有的欧氏范数。

**二维的范数就是常见的根号下所有数的立方和，在系数为2是就是传统的求两点间距离的公式。**

n维的范数公式即n次根号下所有数的n次方的和。即

![](https://github.com/Ghj1314xxx/Numpy/raw/master/Images/norm.png)

范数主要用来表示向量的长度。0维范数的含义是用来表示向量中非零元素的个数。

假设向量A = 1，2，3，0。这种的非零元素有三个，则A的范数为3。

下面示范用Numpy进行范数计算。

```python
import numpy as np
x = np.array([2, 5, 9, 0])
np.linalg.norm(x, ord=0)
```
>3.0
    
Numpy中，可以使用`linalg.norm()`函数来计算向量的范数。

最初的参数是输入的数组，ord参数指定的是范数的次数。

一次范数可以通过计算矩阵的距离来计算向量的长度，所以A的一次范数为16.

```python
np.linalg.norm(x, ord=1)
```
>16.0
      
一次范数的其中一个用途是用来计算**平均绝对误差(MAE: mean-absolute error)**。

>MAE(a,b) = 1 / n * ||a - b||
                  
二次范数是最常用的范数。

```python
np.linalg.norm(x, ord=2)
```
>10.488088481701515
      
二次范数最常用的用途是计算**平均二次误差(MSE: mean-squared error)**。

行列是由向量表示而来，所以和通常的向量一样，范数也可以表示为长度和大小，但是计算和解释稍有不同。

```python
a = np.array([3, 7, 6, -2, -5, 4, 1, 3, -14]).reshape(3, 3)
a
```
>array([[  3,  7,   6],  
>[ -2, -5,   4],  
>[  1,  3, -14]])  
                           
```python
np.linalg.norm(a, nor=1)
```
>24.0
```python
np.linalg.norm(a, np.inf)
```
>18.0 # numpy中inf表示最大值，是一个比所有值都要大的值，不是NaN值
         
A的一次范数的计算，首先将各列的绝对值求和并且找出其中的最大值，这个最大值就是行列A的一次范数。

无限次范数使用的场合是计算行的绝对值的和后取最大值，作为无限次范数。

机械学习的算法中，范数被频繁的使用在计算特征空间的距离上。当然最常用的就是二次范数。

线性代数中另外一个十分重要的概念就是矩阵的行列式的计算。

行列式的定义，**是用来表示给定矩阵线性变换的变化率的量**。

Numpy中可以使用`linalg.det()`函数来计算矩阵的行列式。

```python
A = np.array([2, 3, 1, 5]).reshape(2, 2)
A
```
>array([[2, 3],  
>[1, 4]])
```python
np.linalg.det(A)
```
>5.0
         
```python
B = np.array([2, 3, 5, 1, 4, 8, 5, 6, 2]).reshape(3, 3)
B
```
>array([[2, 3, 5],  
>[1, 4, 8],  
>[5, 6, 2]])  
                           
```python
np.linalg.det(B)
```
>-36.0
         
**行列式表示的是矩阵线性变换中提及的扩大率或者压缩率**。

矩阵A的行列式等于2的话，表示这个矩阵在变换中体积扩大了2倍。

行列式支持连乘，比如两个矩阵相乘后，变换进行了两次，det(A)=2,det(B)=3，

则变化率的合计det(AB)=det(A)*det(B)，即扩大了6倍。

最后介绍另外也给在机械学习模型中十分有用的值————迹的操作。**迹，表示矩阵对角成分的和**。

```python
a = np.arange(9).reshape(3,3)
a
```
>array([[0, 1, 2],  
>[3, 4, 5],  
>[6, 7, 8]])  
```python
np.trace(a)
```
>12
         
```python
b = np.arange(27).reshape(3,3,3)
b
```
>array([[[ 0, 1, 2],   
>[ 3, 4, 5],   
>[ 6, 7, 8]],  
                            
>[[ 9, 10, 11],  
>[12, 13, 14],  
>[15, 16, 17]],  
                            
>[[18, 19, 20],  
>[21, 22, 23],  
>[24, 25, 26]]])  
```python
np.trace(b)
```
>array([36, 39, 42])
         
如上，Numpy的`trace()`函数可以用来计算数组的迹。

**二次元数组的情况下，迹是对角成分的和。三次元以上数组中，迹是对角成分和所构成的数组。**
    
    
    
    
    
    
    
