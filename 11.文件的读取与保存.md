



# 11.文件的读取与保存

**探索性数据分析(EDA:Exploratory Data Analysis)**是数据设计程序中不可或缺的部分。

是适用于数据中统计模型和机械学习算法前阶段中极为重要的部分，但是很多专业人士也有跳过和轻视的时候。

![](https://github.com/Ghj1314xxx/Numpy/raw/master/Images/EDA.png)

EDA是将数据的主要特征指定、再将关于数据的问题理解之后，也使用在向更加专业的模型化分析的准备中。

宏观上，EDA是数据假设之外探索，利用定量方法的手法。

并且，可以将其结果可视化后对于类型、异常和数据特征进行指定。

这里我们将主要学习：

* 文件的读取和保存
* 数据组合(dataset)的探索
* 基本统计量的调查
* 求平均和分散
* 求相关
* 计算直方图(histogram)

数据的读取方法有很多，根据文件的类型不同正确的使用方法也不同。

**HDF(Hierachical Data Format)是阶层构造的数据模型，被使用于大量数据的存储与整理的数据类型中最人气的一种。

对于多次元的均匀的数组的处理尤为便利。

想要操作存储于内存或移动储蓄(disc)上的巨大的数据组的时候，`bcolz`库就十分便利。

关于`bcolz`库的内容可以自行学习。

操作数组的时候，文件内容处理完后通常会以Numpy的二进制文件的类型保存。

理由是数组的类型和形状可以一起保存。因此再次读取数组的时候，Numpy就可以继续之前的操作进行。

并且，Numpy的二进制文件中储存的数组信息，在不同的构造设计的机器上都可以有效的打开。

Numpy中，通过`loud()`, `save()`, `savez()`, `savez_compressed()`等函数可以对Numpy的二进制文件进行读取和保存。

```python
x = np.arange(10)
y = np.arange(12)
np.savez('second_example.npz', x, y)
npzfile = np.load('second_example.npz')
npzfile.files
```
>['arr_0', 'arr_1']
```python
npzfile['arr_0']
```
>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
```python
npzfile['arr_1']
```
>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])

同样，`savez()`函数，可以将多个数组保存都同一个文件中。

将文件压缩后保存可以通过`save_compressed()`函数实行。

```python
np.savez_compressed('compressed_example.npz', first_array = x, second_array = y)
npzfile = np.load('compressed_example.npz')
npzfile.files
```
>['first_array', 'second_array']
```python
npzfile['first_array']
```
>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
```python
npzfile['second_array']
```
>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11])

复数的数组保存在同一个文件的情况下，假如说使用`first_array=x`这样的引数，就可以将数组以这个名字保存下来。

如果没有赋予关键字引数的话，默认会给第一数组命名为`arr_0`。

Numpy中可以通过`loadtxt()`函数将文本文件的数据读取出来。







